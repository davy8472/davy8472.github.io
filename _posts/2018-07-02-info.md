---
layout:     post
title:      学习笔记 
subtitle:   记录学习到的知识点
date:       2018-07-02
author:     QangLee
header-img: img/post-bg-BJJ.jpg
catalog: true
tags:
    - gulp
    - node.js
    - pipe
---

从汪大神的小程序demo开始学习，主要对gulp感兴趣，我擦了，直接农耕升级到自动啊。

### 目录

- gulp 是啥
- gulp 怎么用
- 深挖怎么实现的
- sourcemap，pipe

## gulp 是啥

Gulp 是基于node.js的一个前端自动化构建工具，开发这可以使用它构建自动化工作流程（前端集成开发环境）

## gulp 怎么用

    npm run generate

然后就开始填入文件名字就ok了，我填了“test”，直接在项目目录下就出现了一个文件夹“test”，然后文件夹下就自动出现了.js,.wxml,.wxss等界面所需文件，并且还自动在app.json的路由中直接配置了，简直不要太6



### 深挖怎么实现的

首先需要一个gulpfile.js文件

    gulp.task('generate', next => {
  inquirer.prompt([
    {
      type: 'input',
      name: 'pageName',
      message: 'Input the page name',
      default: 'index'
    },
    {
      type: 'confirm',
      name: 'needConfig',
      message: 'Do you need a configuration file',
      default: false
    },
    {
      type: 'list',
      name: 'styleType',
      message: 'Select a style framework',
      // choices: ['less', 'scss', 'css'],
      choices: ['less'],
      default: 'less'
    }
  ])
  .then(options => {
    console.log("选择完了就生成吧！");
    const res = generateFile(options)
    if (res) generateJson(options)
  })
  .catch(err => {
    throw new plugins.util.PluginError('generate', err)
  })
})

然后我就跟进这个“generatePage”函数，发现这个汪大神自己写了个包在npm上叫generate-weapp-page（谷歌才能搜到），然后写了一些模版。

### 深挖怎么实现的

然后就是科普了sourcemap，pipe，接下来再去深研究
    

